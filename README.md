# nls_load_bad_api_webservice
# стучимся на http://127.0.0.1:5001/sync_data

+ Загрузка из «плохого» API большого количества данных и их синхронизация с табличкой в БД (например, Postgres). Считаем, что на входе мы скачиваем JSON-массив из N (>100k) объектов (dict) заданной структуры (primary key поле + некоторое количество строковых полей). Считаем, что нам надо раз в некоторое время запускать функцию, которая создаст записи, которые есть в JSON, но их нет в базе, а далее обновит строковые поля там, где что-то поменялось, и пометить удаленными записи, которых нет в JSON, но они все еще есть в базе.

использовать Django 
либо самому WebService поднять

+ 1. Безопасность паролей:
Уберите логин и пароль для базы данных из кода. Храните конфиденциальные данные в переменных окружения и используйте их для настройки подключения. Это делается, например, с помощью библиотеки python-decouple или переменных среды.

+ 2. Многопоточность:
Вместо использования многопоточности для выполнения синхронизации данных, рассмотрите использование асинхронного кода или фоновых задач с помощью библиотеки Celery. Это обеспечит более надежное и масштабируемое решение.

+ 3. Обработка ошибок:
Добавьте обработку ошибок при взаимодействии с базой данных. В случае ошибки, убедитесь, что сессия будет корректно закрыта.

+ 4. Логирование:
Добавьте логирование событий и ошибок в вашем приложении. Используйте библиотеку, такую как logging, для логирования в файл или другое хранилище.

5. Зависимости:
Убедитесь, что у вас установлены все необходимые зависимости, и управляйте ими с помощью requirements.txt. Вы также можете использовать виртуальное окружение для изоляции проекта.

+ 6. Масштабируемость:
Рассмотрите возможность асинхронной обработки данных или использования очереди задач для управления задачами синхронизации. Это обеспечит лучшую производительность и масштабируемость приложения.

+ 7. Настройка секретного ключа для Flask:
Если используете режим отладки, установите секретный ключ Flask с помощью app.secret_key для обеспечения безопасности.

+ 8. Управление конфигурацией:
Отделите конфигурацию вашего приложения от кода. Используйте файлы конфигурации или переменные окружения для настройки приложения. Это облегчит настройку и развертывание.

9. Документация и комментарии:
Добавьте подробные комментарии и документацию к коду, чтобы другим разработчикам было легче его понимать и поддерживать.

10. Зависимости и виртуальное окружение:
Создайте виртуальное окружение для проекта и управляйте зависимостями с помощью requirements.txt, чтобы изолировать проект от системных библиотек и других проектов.